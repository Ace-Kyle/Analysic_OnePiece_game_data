<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medal Set Builder</title>
  <meta name="description" content="Build and customize your medal sets with interactive drag-and-drop interface">
  <meta name="keywords" content="medal, set, builder, game, collection">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="./images/icons/favicon.png">

  <!-- CSS -->
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/responsive.css">

  <!-- Preload critical resources -->
  <link rel="preload" href="./data/data.json" as="fetch" crossorigin="anonymous">
<!--  <link rel="prefetch" href="./images/medals/">-->
</head>
<body>
<!-- Loading Screen -->
<div id="loadingScreen" class="loading-screen">
  <div class="loading-content">
    <div class="loading-spinner"></div>
    <h2>Loading Medal Set Builder...</h2>
    <p>Please wait while we load your medals...</p>
  </div>
</div>

<!-- Language Toggle -->
<div class="language-toggle" id="languageToggle" aria-label="Toggle Language">
  <span class="language-flag">🇺🇸</span>
  <span class="language-text">EN</span>
</div>

<!-- Main Application Container -->
<div class="app-container" id="appContainer">
  <!-- Left Panel (PC) / Top Section (Mobile) -->
  <div class="left-panel">
    <!-- Medal Set Zone (A1) -->
    <div class="medal-set-zone">
      <div class="medal-set-container">
        <div class="medal-slots-row">
          <div class="medal-slot" data-slot="0" aria-label="Medal Slot 1">
            <button class="remove-btn" aria-label="Remove Medal">&times;</button>
          </div>
          <div class="medal-slot" data-slot="1" aria-label="Medal Slot 2">
            <button class="remove-btn" aria-label="Remove Medal">&times;</button>
          </div>
          <div class="medal-slot" data-slot="2" aria-label="Medal Slot 3">
            <button class="remove-btn" aria-label="Remove Medal">&times;</button>
          </div>
        </div>
        <button class="save-btn" id="saveBtn" data-text-en="Save" data-text-vi="Lưu">Save</button>
      </div>
    </div>

    <!-- Affects and Tags Zone (A2) -->
    <div class="affects-tags-zone">
      <div class="toggle-buttons" role="tablist">
        <button class="toggle-btn active"
                data-target="affects"
                data-text-en="Effects"
                data-text-vi="Hiệu ứng"
                role="tab"
                aria-selected="true"
                aria-controls="affects-content">Effects</button>
        <button class="toggle-btn"
                data-target="tags"
                data-text-en="Tags"
                data-text-vi="Thẻ"
                role="tab"
                aria-selected="false"
                aria-controls="tags-content">Tags</button>
      </div>

      <div class="content-display">
        <div id="affects-content" role="tabpanel" aria-labelledby="affects-tab">
          <ul class="affects-list" aria-label="Medal Effects"></ul>
        </div>
        <div id="tags-content" role="tabpanel" aria-labelledby="tags-tab" style="display: none;">
          <div class="tags-progress-list" aria-label="Medal Tags"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Right Panel (PC) / Bottom Section (Mobile) -->
  <div class="right-panel">
    <!-- Functions Zone (B) -->
    <div class="functions-zone">
      <div class="function-bar">
        <button class="filter-btn" id="filterBtn" aria-label="Open Filters">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M3 7H21L19 9H5L3 7ZM6 13H18L17 15H7L6 13ZM9 19H15V17H9V19Z"/>
          </svg>
        </button>
        <div class="search-container">
          <input type="text"
                 class="search-input"
                 id="searchInput"
                 placeholder="Search by name..."
                 data-placeholder-en="Search by name..."
                 data-placeholder-vi="Tìm kiếm theo tên..."
                 aria-label="Search medals">
          <button class="search-clear-btn" id="searchClearBtn" aria-label="Clear search">&times;</button>
        </div>
      </div>
    </div>

    <!-- Medal List Zone (C) -->
    <div class="medal-list-zone">
      <div class="medal-grid" id="medalGrid" role="grid" aria-label="Medal collection">
        <div class="loading">
          <div class="spinner"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Filter Modal -->
<div class="modal" id="filterModal">
  <div class="modal-content filter-modal-content">
    <div class="modal-header">
      <h3 data-text-en="Filter Options" data-text-vi="Tùy chọn lọc">Filter Options</h3>
      <button class="close-btn" aria-label="Close">&times;</button>
    </div>
    <div class="modal-body">
      <div class="filter-group">
        <label class="filter-label" for="typeFilter" data-text-en="Type" data-text-vi="Loại">Type</label>
        <select class="filter-select" id="typeFilter" aria-label="Filter by type">
          <option value="" data-text-en="All Types" data-text-vi="Tất cả loại">All Types</option>
          <option value="event" data-text-en="Event" data-text-vi="Sự kiện">Event</option>
          <option value="colored" data-text-en="Colored" data-text-vi="Đua top 500">Colored</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label" for="tagFilter" data-text-en="Tag" data-text-vi="Thẻ">Tag</label>
        <select class="filter-select" id="tagFilter" aria-label="Filter by tag">
          <option value="" data-text-en="All Tags" data-text-vi="Tất cả thẻ">All Tags</option>
        </select>
      </div>

      <div class="filter-actions">
        <button class="filter-action-btn" id="refreshBtn" data-text-en="Reset Filters" data-text-vi="Đặt lại bộ lọc">Reset Filters</button>
        <button class="filter-action-btn" id="applyFilterBtn" data-text-en="Apply" data-text-vi="Áp dụng">Apply</button>
      </div>
    </div>
  </div>
</div>

<!-- Medal Detail Modal -->
<div class="modal" id="medalModal">
  <div class="modal-content">
    <div class="modal-header">
      <img class="modal-image" id="modalImage" src="" alt="Medal Image">
      <h3 class="modal-title" id="modalTitle">Medal Name</h3>
      <button class="close-btn" aria-label="Close">&times;</button>
    </div>
    <div class="modal-body">
      <div class="modal-section">
        <h4 data-text-en="Unique Trait" data-text-vi="Hiệu ứng chính">Unique Trait</h4>
        <p class="modal-text" id="modalTrait">-</p>
      </div>
      <div class="modal-section">
        <h4 data-text-en="Tags" data-text-vi="Thuộc tính">Tags</h4>
        <div class="modal-tags" id="modalTags"></div>
      </div>
    </div>
<!--    <div class="modal-footer">-->
<!--      <button class="modal-btn secondary-btn" data-text-en="Close" data-text-vi="Đóng">Close</button>-->
<!--    </div>-->
  </div>
</div>

<!-- Language Selection Modal -->
<div class="modal" id="languageModal">
  <div class="modal-content language-modal-content">
    <div class="modal-header">
      <h3 data-text-en="Select Language" data-text-vi="Chọn ngôn ngữ">Select Language</h3>
      <button class="close-btn" aria-label="Close">&times;</button>
    </div>
    <div class="modal-body">
      <div class="language-options">
        <button class="language-option" data-lang="en">
          <span class="language-flag">🇺🇸</span>
          <span class="language-name">English</span>
        </button>
        <button class="language-option" data-lang="vi">
          <span class="language-flag">🇻🇳</span>
          <span class="language-name">Tiếng Việt</span>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Scripts -->
<script type="module" src="./js/app.js"></script>
</body>
</html>